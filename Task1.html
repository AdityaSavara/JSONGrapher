<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Task 1</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
<header>
    <div class="container">
       <a href="index.html">
            <div class="button">
                <p>JSONGrapher</p>
            </div>
        </a>
        <a href="Task1.html">
            <div class="button active">
                <p>Task 1</p>
            </div>
        </a>
        <a href="Task2.html">
            <div class="button">
                <p>Task 2</p>
            </div>
        </a>
        <a href="Task3.html">
            <div class="button">
                <p>Task 3</p>
            </div>
        </a>
        <a href="Task4.html">
            <div class="button">
                <p>Task 4</p>
            </div>
        </a>
        <a href="Task5.html">
            <div class="button">
                <p>Task 5</p>
            </div>
        </a>
    </div>
</header>
<div class="page">
    <h1>Task 1</h1>
    <p>Option to select a single file from computer.</p>
    <input type="file" id="file-selector">
    <p>Option to drop a file on the browser:</p>
    <div id="file-drop-area" >
        Drop a file here:
    </div>
    <p>Output:</p>
    <div id="output"></div>
</div>
<script>
    const output = document.getElementById('output');
    if(window.FileList && window.File){

        // input file button
        document.getElementById('file-selector').addEventListener('change', event => {
            const file = event.target.files[0];
            output.innerHTML = '';
            const reader = new FileReader();
            reader.addEventListener('load', event => {
                output.innerHTML = (event.target.result);
            })
            reader.readAsText(file);
        })

        // drop area
        const dropArea = document.getElementById('file-drop-area');
        dropArea.addEventListener('dragover', event => {
            event.stopPropagation();
            event.preventDefault();
            event.dataTransfer.dropEffect = 'copy';
        });
        dropArea.addEventListener('drop', event => {
            event.stopPropagation();
            event.preventDefault();
            const file = event.dataTransfer.files[0];
            output.innerHTML = '';
            const reader = new FileReader();
            reader.addEventListener('load', event => {
                output.innerHTML = (event.target.result);
            })
            reader.readAsText(file);
        })
    }
</script>
</body>
</html>