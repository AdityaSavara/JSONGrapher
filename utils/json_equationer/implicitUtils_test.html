<!DOCTYPE html><html lang="en"><head>    <meta charset="UTF-8">    <meta name="viewport" content="width=device-width, initial-scale=1.0">    <title>Data Utils Module Test</title></head><body>    <h1>Check your browser's developer console for output!</h1>    <script type="module">        // Import the functions from your implicitUtils.js module        import { updateImplicitDataSeriesXRanges, getFigDictRanges } from './implicitUtils.js';        // Define a sample figure dictionary to use for examples        const figDict = {          "data": [            {"x": [1, 2, 3, 4], "y": [10, 20, 30, 40]},            {"x": [5, 6, 7, 8], "y": [50, 60, 70, 80]},            {"equation": {              "x_range_default": [null, 500], // Default max_x is 500, min_x is null (will use limits if available)              "x_range_limits": [100, 600]   // Limits are 100 to 600            }},            {"simulate": {              "x_range_default": [null, 700], // Default max_x is 700, min_x is null (will use limits if available)              "x_range_limits": [300, 900]   // Limits are 300 to 900            }}          ]        };        /* Testing getFigDictRanges */        console.log("--- Get Fig Dict Ranges (No Skipping) ---");        // This call will include ranges from all data series, including equations and simulations.        // For equation: min_x will be 100 (from limits as default is null), max_x will be 500 (from default).        // For simulate: min_x will be 300 (from limits as default is null), max_x will be 700 (from default).        const [figDictRangesFull, dataSeriesRangesFull] = getFigDictRanges(figDict);        console.log("Data Series Values (Full):", dataSeriesRangesFull);        console.log("Extreme Values (Full):", figDictRangesFull);        // Expected overall min_x: 1 (from first data series), max_x: 700 (from simulate's default).        // Expected overall min_y: 10, max_y: 80.        console.log("\n--- Get Fig Dict Ranges (Skipping Equations and Simulations) ---");        // This call will only consider the "x" and "y" arrays from the first two data series.        const [figDictRangesSkipped, dataSeriesRangesSkipped] = getFigDictRanges(figDict, true, true);        console.log("Data Series Values (Skipped):", dataSeriesRangesSkipped);        console.log("Extreme Values (Skipped):", figDictRangesSkipped);        // Expected overall min_x: 1, max_x: 8.        // Expected overall min_y: 10, max_y: 80.        console.log("\n--- Get Fig Dict Ranges (Skipping Simulations Only) ---");        // This call will include data series with "x" and "y" arrays, and "equation" series.        const [figDictRangesSkipSim, dataSeriesRangesSkipSim] = getFigDictRanges(figDict, false, true);        console.log("Data Series Values (Skipping Simulations):", dataSeriesRangesSkipSim);        console.log("Extreme Values (Skipping Simulations):", figDictRangesSkipSim);        // Expected overall min_x: 1 (from first data series).        // Expected overall max_x: 500 (from equation's default).        // Expected overall min_y: 10, max_y: 80.        /* Testing updateImplicitDataSeriesXRanges */        console.log("\n--- Update Implicit Data Series X Ranges ---");        // Set a global min_x and max_x to apply to equation and simulate series.        const rangeToApply = { min_x: 0, max_x: 1000 };        const updatedFigDict = updateImplicitDataSeriesXRanges(figDict, rangeToApply);        console.log("Updated Fig Dict (partial view):", JSON.stringify(updatedFigDict.data.slice(2), null, 2)); // Show only the implicit series        // Verify the update by getting ranges from the updated dictionary        const [figDictRangesUpdated, dataSeriesRangesUpdated] = getFigDictRanges(updatedFigDict);        console.log("Extreme Values after update:", figDictRangesUpdated);        // Expected overall min_x: 0 (applied from rangeToApply to implicit series).        // Expected overall max_x: 1000 (applied from rangeToApply to implicit series).        // Expected overall min_y: 10, max_y: 80.        console.log("\n--- Update Implicit Data Series X Ranges (Preserving Defaults) ---");        // Set min_x, but leave max_x as null to preserve its current default.        const rangeToApplyPartial = { min_x: 0, max_x: null };        const updatedFigDictPartial = updateImplicitDataSeriesXRanges(figDict, rangeToApplyPartial);        console.log("Updated Fig Dict (Partial view):", JSON.stringify(updatedFigDictPartial.data.slice(2), null, 2)); // Show only the implicit series        const [figDictRangesPartial, dataSeriesRangesPartial] = getFigDictRanges(updatedFigDictPartial);        console.log("Extreme Values after partial update:", figDictRangesPartial);        // Expected overall min_x: 0 (applied from rangeToApplyPartial).        // Expected overall max_x: 700 (max of 500 from equation's original default, and 700 from simulate's original default, as max_x was null in rangeToApplyPartial).        // Expected overall min_y: 10, max_y: 80.    </script></body></html>